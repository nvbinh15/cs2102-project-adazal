[Shops](sid*, name);
[[Products]](pid*, name, description, price, quantity);
[Manufacturers](mid* , name, country);
[Categories](cid*, name);
[Employees](edi*, name, monthly_salary);
[Users](uid*, name, address, is_deleted);
[[Orders]](order_id*, total_cost, shipping_address, status, estimated_delivery_date);
[Refunds](rid*);
[Coupons](cid*, reward, validity_period, minimum_order_value);

[<Comments>](content, rating, created_timestamp);
<Replies>(content, created_timestamp);
[<ArchivedComments>](content, rating, created_timestamp*);
<ArchivedReplies>(content, created_timestamp*);

[Complaints](cid*, status);
[ShopComplaints]();
[CommentComplaints]();
[OrderComplaints]();

<ParentCategory>();
[<Includes>](shipping_cost, delivery_date);
<<Sells>>();
<<Places>>();
<Produces>();
<BelongsTo>();
<Requests>(date);
<HandlesRefunds>(status, reason_of_rejection, processed_date);

<Rewarded>(issued_date, quantity);
<Applies>();
[<Files>]();
<AboutShops>();
<AboutComments>();
<AboutOrders>();

<HandlesComplaints>();

Shops --- Sells;
Products ==> Sells;

Products --- Includes;
Orders === Includes;

Users --> Comments;
Includes --- Comments;
Users --- Replies;
Comments --- Replies;


Users --- ArchivedComments;
Includes --- ArchivedComments;
Users --- ArchivedReplies;
ArchivedComments --- ArchivedReplies;


Manufacturers --- Produces;
Products ==> Produces;

Categories --> ParentCategory;
Categories --- ParentCategory;

Categories --- BelongsTo;
Products === BelongsTo;

Users --- Places;
Orders ==> Places;

Users --- Requests;
Refunds --- Requests;

Refunds === Includes;

Employees --- HandlesRefunds;
Refunds ==> HandlesRefunds;

Users --- Rewarded;
Coupons --- Rewarded;

Users --- Applies;
Coupons --> Applies;
Orders --- Applies;

Complaints ==> {ShopComplaints, OrderComplaints, CommentComplaints};
Users --- Files;
Complaints --- Files;

ShopComplaints --- AboutShops;
Shops --- AboutShops;

OrderComplaints --- AboutOrders;
Orders --- AboutOrders;

CommentComplaints --- AboutComments;
Comments --- AboutComments;

Employees --- HandlesComplaints;
Files ==> HandlesComplaints;
